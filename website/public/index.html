<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>

    <!-- Vue library -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    <!-- Axios library -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

</head>
<body>

    <header>

    <h1>Compare website</h1>

    </header>

    <nav>

        <input type="text" name="search" id="search-input">
        <button id="search-button">search</button>

    </nav>

    <main id="app">

        <table>
    <thead>
        <tr>
            <th colspan="2">The table header</th>
        </tr>
    </thead>
    <tbody v-for="model in message">
        <tr>
            <td> {{model.name}} </td>
            <td>{{model.brand}}</td>
            <td>{{model.price}}</td>
            <td><a v-bind:href="model.url"> go to </a></td>

        </tr>
    </tbody>

</table>
        <button @click="getProducts">press</button>
    </main>

    <script>

      var app = new Vue({
        el: '#app',
        data: {
          message: []
        },
        methods: {
            getProducts: function () {

              let self = this;

              axios.get('/products')//Send GET request to cereals path
                .then(function (response) {//Request successful
                  //Output cereals data
                  console.log(response.data[0].price);
                  self.message = response.data;

                })
                .catch(function (error) {
                  //Handle error
                  console.log(error);
                });
            }
        }
      })



    </script>

</body>
</html>